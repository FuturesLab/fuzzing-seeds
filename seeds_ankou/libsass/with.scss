a {
  display: block;
}
.b {
  @at-root (with: media) {
    @extend .a;
  }
} 

<===> error
Error: Extend directives may only be used within rules.
        on line 6 of input.scss
  Use --trace for backtrace.
